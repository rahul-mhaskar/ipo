import React from "react";

const Footer = ({ isFooterExpanded, onToggle, renderBrokerLinks }) => {
  return (
    <footer
      id="broker-section"
      className={`fixed bottom-0 left-0 w-full bg-white border-t shadow z-40 transition-all duration-[2000ms] ease-in-out
        ${isFooterExpanded ? 'h-auto py-2 sm:py-2 px-2 sm:px-4' : 'h-[40px] sm:h-[40px] py-1 px-2 sm:px-4 overflow-hidden'}`}
      onClick={onToggle}
    >
      <div className="flex justify-center items-center h-full sm:h-auto cursor-pointer">
        <div className="flex flex-col items-center">
          <svg
            className={`w-5 h-5 text-gray-600 transform transition-transform duration-300 ${isFooterExpanded ? 'rotate-180' : 'rotate-0'}`}
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7" />
          </svg>
          <p className="text-gray-500 text-xs mt-0.5 sm:hidden">
            {isFooterExpanded ? 'Tap to Collapse' : 'Tap for Brokers'}
          </p>
        </div>
      </div>

      <div className={`transition-opacity duration-300 ${isFooterExpanded ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
        <div className="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-center sm:justify-between gap-1 sm:gap-2">
          <div className="whatsapp-section text-center sm:text-left mb-0.5 sm:mb-1">
            <a
              href="https://www.whatsapp.com/channel/0029VbBPCHaKAwEkO9zdRl34"
              target="_blank"
              rel="noopener noreferrer"
              className="inline-flex items-center bg-green-600 text-white px-3 py-1 rounded-full shadow-md hover:bg-green-700 hover:scale-105 transition transform text-xs"
            >
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
                alt="WhatsApp"
                className="w-3.5 h-3.5 mr-1"
              />
              WhatsApp Updates
            </a>
          </div>

          <div className="flex flex-col items-center sm:items-end">
            <h2 className="text-xs sm:text-sm font-semibold mb-0.5 sm:mb-1 text-center text-gray-800 hover:text-blue-600 transition-all">
              üó≠Ô∏è Open Demat account securely with verified investment brokers.
            </h2>
            <div className="flex flex-wrap justify-center gap-1 overflow-x-auto pb-0.5">
              {renderBrokerLinks()}
            </div>
          </div>
        </div>
        <p className="text-center text-gray-500 text-xs mt-1">
          ¬© {new Date().getFullYear()} Track My IPO. All rights reserved.
        </p>
      </div>
    </footer>
  );
};

export default Footer;
